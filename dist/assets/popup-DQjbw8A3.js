import{c as f,j as e,r as n}from"./globals-7RO5a9WH.js";function g(){const[r,s]=n.useState(null),[i,p]=n.useState(null),[a,l]=n.useState(""),[x,c]=n.useState(!1);n.useEffect(()=>{chrome.storage.local.get("meetflow_token",o=>{s(o.meetflow_token??null)}),chrome.storage.session.get("activeMeetingId",o=>{p(o.activeMeetingId??null)})},[]);const d=()=>{a.trim()&&chrome.storage.local.set({meetflow_token:a.trim()},()=>{s(a.trim()),c(!0),setTimeout(()=>c(!1),2e3)})},u=()=>{chrome.storage.local.remove("meetflow_token"),s(null),l("")},v=()=>{chrome.tabs.create({url:"https://meet.google.com"})};return e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("span",{style:t.logo,children:["MeetFlow ",e.jsx("span",{style:{color:"var(--accent)"},children:"AI"})]}),e.jsx("span",{style:t.version,children:"v1.0"})]}),e.jsxs("div",{style:t.status,children:[e.jsx("div",{style:{...t.statusDot,background:r?"var(--accent)":"var(--text-muted)"}}),e.jsx("span",{style:t.statusText,children:i?`Live · ${i.slice(0,8)}…`:r?"Ready":"Not authenticated"})]}),r?e.jsxs("div",{style:t.section,children:[e.jsxs("div",{style:t.tokenRow,children:[e.jsxs("span",{style:t.tokenMask,children:["Token ••••••••",r.slice(-6)]}),e.jsx("button",{style:t.clearBtn,onClick:u,children:"Clear"})]}),x&&e.jsx("span",{style:t.savedMsg,children:"✓ Saved"})]}):e.jsxs("div",{style:t.section,children:[e.jsx("p",{style:t.label,children:"Supabase JWT Token"}),e.jsxs("div",{style:t.inputRow,children:[e.jsx("input",{style:t.input,type:"password",placeholder:"Paste your token…",value:a,onChange:o=>l(o.target.value),onKeyDown:o=>o.key==="Enter"&&d()}),e.jsx("button",{style:t.saveBtn,onClick:d,children:"Save"})]}),e.jsx("p",{style:t.hint,children:"Get your token from the MeetFlow web app after signing in."})]}),e.jsx("div",{style:t.actions,children:e.jsx("button",{style:t.primaryBtn,onClick:v,children:"Open Google Meet"})}),e.jsx("p",{style:t.footer,children:"Join a Meet call to activate the sidebar"})]})}const t={container:{padding:"16px",display:"flex",flexDirection:"column",gap:"12px",background:"var(--bg-base)",minHeight:"200px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{fontFamily:"var(--font-ui)",fontWeight:800,fontSize:"15px",color:"var(--text-primary)"},version:{fontSize:"10px",color:"var(--text-muted)",fontFamily:"var(--font-mono)"},status:{display:"flex",alignItems:"center",gap:"7px",padding:"8px 10px",background:"var(--bg-raised)",borderRadius:"6px",border:"1px solid var(--border)"},statusDot:{width:"7px",height:"7px",borderRadius:"50%",flexShrink:0},statusText:{fontSize:"12px",color:"var(--text-secondary)"},section:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"11px",fontWeight:600,color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.5px"},inputRow:{display:"flex",gap:"6px"},input:{flex:1,padding:"7px 10px",background:"var(--bg-raised)",border:"1px solid var(--border)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"12px",fontFamily:"var(--font-mono)",outline:"none"},saveBtn:{padding:"7px 14px",background:"var(--accent)",border:"none",borderRadius:"6px",color:"var(--bg-base)",fontSize:"12px",fontWeight:700,cursor:"pointer",fontFamily:"var(--font-ui)"},clearBtn:{padding:"4px 10px",background:"transparent",border:"1px solid var(--border)",borderRadius:"4px",color:"var(--text-muted)",fontSize:"11px",cursor:"pointer",fontFamily:"var(--font-ui)"},tokenRow:{display:"flex",justifyContent:"space-between",alignItems:"center"},tokenMask:{fontSize:"12px",color:"var(--text-secondary)",fontFamily:"var(--font-mono)"},savedMsg:{fontSize:"11px",color:"var(--accent)"},hint:{fontSize:"10px",color:"var(--text-muted)",lineHeight:1.5},actions:{display:"flex",gap:"6px"},primaryBtn:{flex:1,padding:"9px",background:"var(--bg-raised)",border:"1px solid var(--border)",borderRadius:"6px",color:"var(--text-primary)",fontSize:"12px",fontWeight:600,cursor:"pointer",fontFamily:"var(--font-ui)"},footer:{fontSize:"10px",color:"var(--text-muted)",textAlign:"center"}};f(document.getElementById("popup-root")).render(e.jsx(n.StrictMode,{children:e.jsx(g,{})}));
