async function n(){return(await chrome.storage.local.get("meetflow_token")).meetflow_token??null}async function o(e){await chrome.storage.local.set({meetflow_token:e})}chrome.runtime.onMessage.addListener((e,r,t)=>{if(e.type==="GET_AUTH_TOKEN")return n().then(t),!0;if(e.type==="AUTH_TOKEN")return o(e.token).then(()=>t({ok:!0})),!0;e.type==="MEETING_STARTED"&&chrome.storage.session.set({activeMeetingId:e.meetingId}),e.type==="MEETING_ENDED"&&chrome.storage.session.remove("activeMeetingId")});chrome.action.onClicked.addListener(e=>{e.id&&chrome.tabs.sendMessage(e.id,{type:"TOGGLE_SIDEBAR"})});chrome.runtime.onInstalled.addListener(({reason:e})=>{e==="install"&&chrome.tabs.create({url:chrome.runtime.getURL("popup.html")})});
